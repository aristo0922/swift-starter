### 공통점

- 값을 저장할 프로퍼티를 선언할 수 있습니다.
- 함수적 기능을 하는 메서드를 선언 할 수 있습니다.
- 내부 값에. 을 사용하여 접근할 수 있습니다.
- 생성자를 사용해 초기 상태를 설정할 수 있습니다.
- extension을 사용하여 기능을 확장할 수 있습니다.
- Protocol을 채택하여 기능을 설정할 수 있습니다

## Class, 클래스

- ARC로 메모리를 관리하는 참조타입
- 같은 클래스 인스턴스를 여러 개의 변수에 할당한 뒤 값을 변경시키면 할당한 모든 변수에 영향
    - 메모리만 복사
- 상속이 가능하다
- 타입 캐스팅을 통해 런타임에서 클래스 인스턴스 타입 확인 가능
- deinit 를 사용하여 클래스 인스턴스의 메모리 할당 해제

## Struct, 구조체

- 값 타입
- 구조체 변수를 새로운 변수에 할당할 때마다 새로운 구조체가 할당된다
- 같은 구조체를 여러 개의 변수에 할당한 뒤 값을 변경시키더라도 다른 변수에 영향을 주지 않는다.
    - 값 자체를 복사

```java

class Simpleclass{
    var count: Int = 0
    
    deinit{
        print("할당 해제")
    }
}
```

deinit 메서드

: 소멸자, 클래스 인스턴스가 메모리에서 해제될 때 즉시 호출되는 함수

- 구조체가 아닌 클래스 타입에서만 작성 가능

### deinit 작동 방식

- 특정 인스턴스가 더이상 필요 없을 때 메모리 공간 확보를 위해 해당 인스턴스를 자동적으로 메모리 해제
- ARC
    - : 전형적으로 특정 클래스 인스턴스를 메모리에서 해제하고 싶을 때 수동적으로 해당 인스턴스를 정리할 필요가 없게 만든다.
    - 더이상 필요없는 인스턴스에 대해 자동으로 메모리 할당/해제 코드를 실행해준다.
    - 앱이 자원을 사용하고 작동하고 있을 때는 개인적으로 따로 메모리를 관리해줄 필요가 있다.
- 클래스 소멸자는 하나의 클래스 인스턴스당 최대 하나씩
    - 매개변수나 괄호 불필요
    - 직접호출x → 상위 클래스 소멸자는 자동적으로 마지막 서브 클래스의 소멸자 구현부에서 호출
    - 상위 클래스 소멸자는 항상 호출되는데, 서브 클래스 소멸자에서 구현이 없을 때에도 호출
- 소멸자 호출 전까지 인스턴스는 메모리에서 해제되지 않기에, 소멸자는 호출된 인스턴스의 모든 프로퍼티에 접근 가능
    - 프로퍼티에 기반한 행위 변경 또한 가능
    - deinit 가 호출되지 않았다면 **`강한 참조 순환`**을 의심할 것
 

reference

https://www.zehye.kr/ios/2021/08/05/iOS_deinit/

https://icksw.tistory.com/256
